## Monorepo Structure

```

CULI-Project/
├── backend/         # FastAPI app for grading, auth, and scoring
├── frontend/        # Next.js frontend for teacher UI
├── scripts/         # Shell scripts for automation (deployment, env setup, etc.)
├── infra/           # CloudFormation/Terraform infrastructure templates
├── docker-compose.yml
└── README.md

````

---

## Getting Started (Locally)

You can run both services locally with Docker Compose.

### 1. Prerequisites

- [Docker](https://www.docker.com/)
- [Docker Compose](https://docs.docker.com/compose/)
- `.env` files in both `frontend/` and `backend/` folders

### 2. Run Services

```bash
docker compose up --build
````

* Frontend available at: [http://localhost:3000](http://localhost:3000)
* Backend available at: [http://localhost:8000](http://localhost:8000)

---

## Development

Each service can also be run individually.

### Backend

```bash
cd backend
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

### Frontend

```bash
cd frontend
pnpm dev
```

---

## AWS Deployment

Deployment is automated using:

* ECS EC2 with EIP for public access
* SSM Parameter Store for secrets
* CloudFormation scripts for infra provisioning
* Docker + ECR for containerized services

### Deployment Steps

```bash
./deploy.sh
```

This script will:

1. Initialize CloudFormation stacks
2. Inject EIP into `.env` files
3. Build & push Docker images to ECR
4. Update ECS task definitions and services

---

## Environment Variables
Each service has its own `.env` file. These environment variables are essential for running the project correctly.

You **must** go into both the `backend/` and `frontend/` directories and create a `.env` file in each.

You can view required keys and example values in the corresponding `.env.template.txt` file in each directory:

### `frontend/.env`

```env
BASE_BACKEND_URL=http://<backend-ip>:8000
```

→ Refer to: `frontend/.env.template.txt`

### `backend/.env`

```env
FRONTEND_HOST=http://<frontend-ip>:3000
BACKEND_CORS_ORIGINS=http://<frontend-ip>:3000
```

→ Refer to: `backend/.env.template.txt`

These values are also automatically patched during deployment based on the EIP generated by AWS.
